<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Midjourney Upload Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { background-color:#0b0c10; color:#f5f5f5; font-family:system-ui, sans-serif; }
    body { margin:0; background:#0b0c10; }
    header { background:#1f2833; border-bottom:1px solid #45a29e; padding:1.5rem; text-align:center; }
    main { max-width:1100px; margin:0 auto; padding:1.5rem; }
    h1 { margin:0 0 .5rem; }
    .tab-bar { display:flex; gap:.5rem; margin-bottom:1rem; }
    .tab-toggle { flex:1; background:#0f141b; border:1px solid #45a29e; border-radius:999px; padding:.5rem 1rem; color:#f5f5f5; cursor:pointer; font-weight:600; }
    .tab-toggle.active { background:#45a29e; color:#0b0c10; }
    .tab-panel { display:none; padding:1rem; border:1px solid #1f2833; border-radius:12px; margin-bottom:1rem; background:#141c23; }
    .tab-panel.active { display:block; }
    .control-row { display:flex; flex-wrap:wrap; gap:.5rem; }
    .control-row button { border:none; border-radius:999px; padding:.65rem 1.2rem; font-weight:600; cursor:pointer; background:#45a29e; color:#0b0c10; }
    .control-row button.secondary { background:#66fcf1; color:#0b0c10; }
    textarea { width:100%; border-radius:8px; border:1px solid #4c5c68; background:#121822; color:#f5f5f5; padding:.85rem; resize:none; font-family:inherit; }
    .grid { display:grid; gap:1rem; grid-template-columns:repeat(auto-fill,minmax(210px,1fr)); margin-top:1.5rem; }
    .card { border:1px solid #45a29e; border-radius:12px; background:#121822; padding:1rem; display:flex; flex-direction:column; gap:.5rem; min-height:230px; transition:transform .2s; }
    .card.selected { transform:scale(1.02); border-color:#66fcf1; box-shadow:0 0 0 2px rgba(102,252,241,.3); }
    .card img { width:100%; border-radius:8px; height:140px; object-fit:cover; background:#1f2833; }
    .meta { font-size:.85rem; color:#a6a6a6; }
    label { display:flex; align-items:center; gap:.35rem; font-size:.9rem; cursor:pointer; }
    .status { margin-top:1rem; padding:1rem; border-radius:10px; background:#1f2833; border:1px solid #4c5c68; }
    .log-panel { margin-top:1rem; background:#141c23; border:1px solid #45a29e; border-radius:12px; padding:1rem; }
    .progress-track { height:6px; border-radius:3px; background:#0f141b; overflow:hidden; margin-bottom:.75rem; }
    #progress-bar { height:100%; width:0%; background:#66fcf1; transition:width .2s ease; }
    .log-list { max-height:180px; overflow:auto; display:flex; flex-direction:column-reverse; }
    .log-entry { font-size:.8rem; line-height:1.3; color:#c5c5c5; padding:2px 0; }
    .log-entry.info { color:#66fcf1; }
    .log-entry.warn { color:#f1c40f; }
    .log-entry.error { color:#ff6666; }
    .scraped-list { margin-top:.5rem; font-size:.85rem; color:#c5c5c5; }
    .scraped-list li { margin-bottom:.25rem; }
  </style>
</head>
<body>
  <header>
    <h1>Midjourney Upload Dashboard</h1>
    <p>Generate prompts, curate batches, and upload to Adobe Stock.</p>
  </header>
  <main>
    <div class="tab-bar">
      <button class="tab-toggle active" data-tab="apiframe">Apiframe</button>
      <button class="tab-toggle" data-tab="midjourney">Midjourney Explore</button>
    </div>
    <section class="tab-panel active" data-tab="apiframe">
      <div class="control-row">
        <button id="generate-prompts">Generate Images</button>
        <button id="fetch-batch">Refresh Apiframe Batch</button>
        <button id="apply-scraped-prompt" class="secondary">Use scraped prompt</button>
      </div>
      <p class="scraped-list">
        Scraped prompts:<br>
        <span id="scraped-prompts">No prompts scraped yet.</span>
      </p>
    </section>
    <section class="tab-panel" data-tab="midjourney">
      <div class="control-row">
        <button id="scrape-midjourney">Scrape Midjourney Explore</button>
      </div>
      <p class="scraped-list">
        Latest scrape: <span id="scrape-status">idle</span>
      </p>
    </section>
    <section>
      <textarea id="prompt-editor" rows="4" aria-label="Prompt editor">Start with a concept: cinematic lighting, volumetric fog, ultra-detailed photorealism.</textarea>
    </section>
    <section class="log-panel">
      <div class="progress-track"><div id="progress-bar"></div></div>
      <div class="log-list" id="log-list"></div>
    </section>
    <section class="grid" id="grid" aria-live="polite"></section>
    <section class="status" id="status">Waiting for your selections...</section>
  </main>
  <script type="module" src="./main.js"></script>
</body>
</html>
